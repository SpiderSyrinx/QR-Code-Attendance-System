<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Presentech - Login / Sign Up</title>
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen">

<div class="bg-gray-800 p-8 rounded-xl shadow-lg w-full max-w-md">

    <div class="relative bg-gray-800 p-8 rounded-xl shadow-lg w-full max-w-md">

    <!-- X BUTTON -->
    <button onclick="window.location.href='index.html'"
        class="absolute top-3 right-3 text-white text-xl font-bold hover:text-red-400 transition">
        âœ•
    </button>

    <div class="text-white flex flex-col items-center">
        <img src="images/logo.png" class="w-16 h-16 mb-5" alt="Presentech Logo">
        <h1 class="text-5xl font-bold text-white mb-10">Presentech</h1>
    </div>

    <div class="text-white flex justify-center mb-4">
        <button id="login-tab" class="px-4 py-2 font-semibold border-b-2 border-transparent hover:border-teal-400 transition">Login</button>
        <button id="signup-tab" class="px-4 py-2 font-semibold border-b-2 border-transparent hover:border-teal-400 transition">Sign Up</button>
    </div>

    <!-- LOGIN FORM -->
    <form id="login-form" class="space-y-4">
        <input type="email" id="login-email" placeholder="Email" class="w-full p-2 border rounded" required>
        <input type="password" id="login-password" placeholder="Password" class="w-full p-2 border rounded" required>
        <button type="submit" class="w-full bg-teal-500 p-2 rounded hover:bg-teal-600">Login</button>
    </form>

    <!-- SIGN UP FORM -->
    <form id="signup-form" class="space-y-4 hidden">
        <input type="text" id="firstName" placeholder="First Name" class="w-full p-2 border rounded" required>
        <input type="text" id="middleName" placeholder="Middle Name" class="w-full p-2 border rounded">
        <input type="text" id="lastName" placeholder="Last Name" class="w-full p-2 border rounded" required>
        <input type="text" id="contact" placeholder="Contact No." class="w-full p-2 border rounded" required>
        <input type="email" id="email" placeholder="Email" class="w-full p-2 border rounded" required>
        <input type="text" id="course" placeholder="Course / Section" class="w-full p-2 border rounded" required>
        <input type="text" id="year" placeholder="Year / Grade" class="w-full p-2 border rounded" required>
        <input type="password" id="password" placeholder="Password" class="w-full p-2 border rounded" required>
        <button type="submit" class="w-full bg-teal-500 p-2 rounded hover:bg-teal-600">Sign Up</button>
    </form>

    <p id="message" class="text-red-500 text-center mt-4"></p>
</div>

<script>
    // Toggle tabs
    const loginTab = document.getElementById('login-tab');
    const signupTab = document.getElementById('signup-tab');
    const loginForm = document.getElementById('login-form');
    const signupForm = document.getElementById('signup-form');
    const message = document.getElementById('message');

    loginTab.addEventListener('click', () => {
        loginForm.classList.remove('hidden');
        signupForm.classList.add('hidden');
        loginTab.classList.add('border-teal-500');
        signupTab.classList.remove('border-teal-500');
    });

    signupTab.addEventListener('click', () => {
        signupForm.classList.remove('hidden');
        loginForm.classList.add('hidden');
        signupTab.classList.add('border-teal-500');
        loginTab.classList.remove('border-teal-500');
    });

    // Sign up logic
    signupForm.addEventListener('submit', (e) => {
        e.preventDefault();
        const email = document.getElementById('email').value;

        if (localStorage.getItem(email)) {
            message.textContent = "Email already registered!";
            return;
        }

        const userData = {
            firstName: document.getElementById('firstName').value,
            middleName: document.getElementById('middleName').value,
            lastName: document.getElementById('lastName').value,
            contact: document.getElementById('contact').value,
            email: email,
            course: document.getElementById('course').value,
            year: document.getElementById('year').value,
            password: document.getElementById('password').value
        };

        localStorage.setItem(email, JSON.stringify(userData));
        sessionStorage.setItem('currentUser', email); // login after signup
        window.location.href = "profile.html";
    });

    // Login logic
    loginForm.addEventListener('submit', (e) => {
        e.preventDefault();
        const email = document.getElementById('login-email').value;
        const password = document.getElementById('login-password').value;
        const user = JSON.parse(localStorage.getItem(email));

        if (!user || user.password !== password) {
            message.textContent = "Invalid email or password!";
            return;
        }

        sessionStorage.setItem('currentUser', email);
        window.location.href = "profile.html";
    });
</script>

</body>
</html>
